alias tmux="tmux -L shdw -2 -f $SHDWDIR/rc/tmux.conf"
SHDWVIM="vim -p -u $SHDWDIR/rc/vimrc"
alias vim=${SHDWVIM}
alias python="PYTHONSTARTUP=$SHDWDIR/rc/pythonrc python"

alias ls='ls -F --color'
alias axel="axel -a"
alias diff="diff -y --suppress-common-lines"
alias find="LC_ALL=\"C\" find"
alias grep="LC_ALL=\"C\" grep --color"
alias mkdir="mkdir -p"

alias pid="ps -o pid --no-header -C"
alias sprunge="curl -F \"sprunge=<-\" http://sprunge.us"
alias please='sudo $(history -p !!)'

alias stats='ssh -tt parabox "/invia/bin/jump stats"'
alias ldrms='ssh -tt parabox "/invia/bin/jump ldpa1 3200"'

if [ ! -z ${SHDWUSER} ]; then

    # Parse the first field of the users file to find all user names
    SHDWUSERS=$(awk -F, '{printf("%s\n", $1)}' ${SHDWDIR}/shdws)

    # Check to see if the requested user is actually in the file
    if echo ${SHDWUSERS} | grep -q "\b$SHDWUSER\b" 2> /dev/null; then

        # Grab the whole config line for the requested user
        SHDWLINE=$(grep "^$SHDWUSER\b" ${SHDWDIR}/shdws)

        # Parse out the needed fields
        SHDWNAME=$(echo ${SHDWLINE} | awk -F, '{printf("%s\n", $2)}')
        SHDWEMAIL=$(echo ${SHDWLINE} | awk -F, '{printf("%s\n", $3)}')

        # Setup git...
        # TODO: Make this into a nice associative array
        DIFFTOOL="${SHDWDIR}/bin/diff-highlight | less"
        GITCONFIG="-c user.name=\"${SHDWNAME}\" -c pager.log=\"${DIFFTOOL}\" -c pager.show=\"${DIFFTOOL}\" -c pager.diff=\"${DIFFTOOL}\" -c user.email=\"${SHDWEMAIL}\" -c core.editor=\"${SHDWVIM}\" -c push.default=simple"
        alias git="git ${GITCONFIG}"

    else
        echo "!!! WARNING: config user not found ($SHDWUSER) !!!"
    fi
fi

# vim:syntax=sh
